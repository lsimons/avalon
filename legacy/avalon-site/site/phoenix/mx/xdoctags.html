<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--*** This is a generated file.  Do not edit.  ***-->
<link rel="stylesheet" href="../skin/tigris.css" type="text/css">
<link rel="stylesheet" href="../skin/mysite.css" type="text/css">
<link rel="stylesheet" href="../skin/site.css" type="text/css">
<link media="print" rel="stylesheet" href="../skin/print.css" type="text/css">
<title>Management Guide - XDoclet Tagging</title>
</head>
<body bgcolor="white" class="composite">
<!--================= start Banner ==================-->
<div id="banner">
<table width="100%" cellpadding="8" cellspacing="0" summary="banner" border="0">
<tbody>
<tr>
<!--================= start Group Logo ==================-->
<td align="left">
<div class="groupLogo">
<a href="http://avalon.apache.org/"><img border="0" class="logoImage" alt="Apache Avalon-Phoenix" src="../images/apache-avalon-logo.png"></a>
</div>
</td>
<!--================= end Group Logo ==================-->
<!--================= start Project Logo ==================--><td align="right">
<div class="projectLogo">
<a href="http://apachecon.com/2003/US/index.html"><img border="0" class="logoImage" alt="Visit ApacheCon 2003!" src="http://www.apache.org/~ceki/ac2003/ac2003-150.gif"></a>
</div>
</td>
<!--================= end Project Logo ==================-->
</tr>
</tbody>
</table>
</div>
<!--================= end Banner ==================-->
<!--================= start Main ==================-->
<table width="100%" cellpadding="0" cellspacing="0" border="0" summary="nav" id="breadcrumbs">
<tbody>
<!--================= start Status ==================-->
<tr class="status">
<td>
<!--================= start BreadCrumb ==================--><a href="http://www.apache.org/">Apache Main</a> | <a href="http://avalon.apache.org/">Avalon Main</a> | <a href="../">Up</a>
<!--================= end BreadCrumb ==================--></td><td id="tabs">
<!--================= start Tabs ==================-->
<div class="tab">
<span class="unselectedTab"><a href="http://www.apache.org/">Apache</a></span> | <span class="unselectedTab"><a href="http://avalon.apache.org/">Avalon</a></span> | <span class="unselectedTab"><a href="http://avalon.apache.org/product/framework/">Framework</a></span> | <span class="unselectedTab"><a href="http://avalon.apache.org/product/containers/">Containers</a></span> | <span class="unselectedTab"><a href="http://avalon.apache.org/product/components/">Components</a></span>
</div>
<!--================= end Tabs ==================-->
</td>
</tr>
</tbody>
</table>
<!--================= end Status ==================-->
<table id="main" width="100%" cellpadding="8" cellspacing="0" summary="" border="0">
<tbody>
<tr valign="top">
<!--================= start Menu ==================-->
<td id="leftcol">
<div id="navcolumn">
<div class="menuBar">
<div class="menu">
<span class="menuLabel">Essentials</span>

<div class="menuItem">
<a href="../index.html">Overview</a>
</div>

<div class="menuItem">
<a href="../features.html">Features</a>
</div>

<div class="menuItem">
<a href="../getting-started.html">Getting started</a>
</div>

<div class="menuItem">
<a href="http://avalon.apache.org/bindownload.cgi">Download</a>
</div>

<div class="menuItem">
<a href="../install.html">Install</a>
</div>

</div>
<div class="menu">
<span class="menuLabel">Guide</span>

<div class="menuItem">
<a href="../guide-architecture.html">Architectural Overview</a>
</div>

<div class="menuItem">
<a href="../guide-roles.html">Development Roles</a>
</div>

<div class="menuItem">
<a href="../guide-administrator.html">for Administrators</a>
</div>

<div class="menuItem">
<a href="../guide-deployers.html">for Deployers</a>
</div>

<div class="menuItem">
<a href="../assemblers/index.html">for Assemblers</a>
</div>

<div class="menuItem">
<a href="../bdg/index.html">for Block Developers</a>
</div>

<div class="menuItem">
<a href="../mx/index.html">Management Guide</a>
</div>

<div class="menuItem">
<a href="../guide-example-configuration.html">Example configuration</a>
</div>

<div class="menuItem">
<a href="../guide-punit.html">PUnit unit testing</a>
</div>

</div>
<div class="menu">
<span class="menuLabel">Reference</span>

<div class="menuItem">
<a href="../api/index.html">API Docs</a>
</div>

<div class="menuItem">
<a href="../assemblers/config-xml-specification.html">config.xml Specification</a>
</div>

<div class="menuItem">
<a href="../assemblers/assembly-xml-specification.html">assembly.xml Specification</a>
</div>

<div class="menuItem">
<a href="../assemblers/environment-xml-specification.html">environment.xml Specification</a>
</div>

<div class="menuItem">
<a href="../bdg/blockinfo-specification.html">BlockInfo Specification</a>
</div>

</div>
<div class="menu">
<span class="menuLabel">For Developers</span>

<div class="menuItem">
<a href="../changes.html">Changes</a>
</div>

<div class="menuItem">
<a href="http://avalon.apache.org/code-standards.html">Coding standards</a>
</div>

<div class="menuItem">
<a href="../for-developers-project-structure.html">Project Structure</a>
</div>

<div class="menuItem">
<a href="http://jakarta.apache.org/site/cvsindex.html">CVS Repositories</a>
</div>

<div class="menuItem">
<a href="http://jakarta.apache.org/site/mail.html">Mailing Lists</a>
</div>

<div class="menuItem">
<a href="http://nagoya.apache.org/bugzilla/buglist.cgi?bug_status=UNCONFIRMED&bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&bug_status=RESOLVED&product=Avalon&component=Phoenix">TODO</a>
</div>

<div class="menuItem">
<a href="http://jira.werken.com/secure/BrowseProject.jspa?id=10081">Issue Tracker (Bug and Enhancement List)</a>
</div>

<div class="menuItem">
<a href="../for-developers-alternate-kernel.html">Alternate Kernels</a>
</div>

</div>
</div>
</div>
</td>
<!--================= end Menu ==================-->
<!--================= start Content ==================--><td>
<div id="bodycol">
<div class="app">
<div align="center">
<h1>Management Guide - XDoclet Tagging</h1>
</div>
<div class="h3">
  
  
    
<div class="h3">
<h3>Introduction</h3>
</div>
      
<p>
        Doclet tags inserted into source code automatically generate the mxinfo file.
        There are a number of advantages to doing it this way:
      </p>
      
<ul>
        
<li>
          its a lot faster than writing MXINFO files by hand
        </li>
        
<li>
          its harder to make mistakes, since much of the data required for the mxinfo file is
          parsed out of the source code
        </li>
        
<li>
          useful defaults can be used by reading the standard javadoc.
        </li>
      
</ul>
      
<p>
        Any class or interface can be used to produce MXINFO files.  How they get used is up to 
        container and its Management subsystem.
      </p>
    
    
<div class="h3">
<h3>The Tags</h3>
</div>
      
<p>
        The following tags are defined:
      </p>
      
<div class="h4">
<h4>phoenix:mx-topic</h4>
</div>
        
<table class="ForrestTable" cellspacing="1" cellpadding="4">
          
<tr class="b">
            
<td colspan="1" rowspan="1">Scope</td>
            <td colspan="1" rowspan="1">
              Applies to classes and interfaces.
            </td>
          
</tr>
          
<tr class="a">
            
<td colspan="1" rowspan="1">Purpose</td>
            <td colspan="1" rowspan="1">
              Marks the class or interface as eligible for management.  
            </td>
          
</tr>
          
<tr class="b">
            
<td colspan="1" rowspan="1">Parameters</td>
            <td colspan="1" rowspan="1">
              It takes a single attribute, called name, that will be used
              to uniquely define the Topic for each Target that includes it.
              This name may be presented to the user in the management agent.
            </td>
          
</tr>
          
<tr class="a">
            
<td colspan="1" rowspan="1">Notes</td>
            <td colspan="1" rowspan="1">
         
            </td>
          
</tr>
        
</table>
        
<p>
          Example:
        </p>
        
<pre class="code">
/**
 * This is the interface via which you can manager
 * the root container of Applications.
 *
 * @phoenix:mx-topic name="Kernel"
 *
 * @author <a href="mailto:peter at apache.org">Peter Donald</a>
 */
        </pre>
      
      
<div class="h4">
<h4>phoenix:mx-attribute</h4>
</div>
        
<table class="ForrestTable" cellspacing="1" cellpadding="4">
          
<tr class="b">
            
<td colspan="1" rowspan="1">Scope</td>
            <td colspan="1" rowspan="1">
              Applies to getter and setter methods.
            </td>
          
</tr>
          
<tr class="a">
            
<td colspan="1" rowspan="1">Purpose</td>
            <td colspan="1" rowspan="1">
              Marks the method as being a getter or setter and as eligible for
              management.  If the class defines a getter and setter, then just 
              getter should be marked up.  
            </td>
          
</tr>
          
<tr class="b">
            
<td colspan="1" rowspan="1">Parameters</td>
            <td colspan="1" rowspan="1">
              None
            </td>
          
</tr>
          
<tr class="a">
            
<td colspan="1" rowspan="1">Notes</td>
            <td colspan="1" rowspan="1">
              Often used in conjuntion with the mx-isWriteable tag
            </td>
          
</tr>
        
</table>
        
<p>
          Example:
        </p>
        
<pre class="code">
/**
 * Gets the list of applications running in the container
 *
 * @phoenix:mx-attribute
 *
 * @return applicationNames The array of application names
 */
String[] getApplicationNames();
        </pre>
      
      
<div class="h4">
<h4>phoenix:mx-operation</h4>
</div>
        
<table class="ForrestTable" cellspacing="1" cellpadding="4">
          
<tr class="b">
            
<td colspan="1" rowspan="1">Scope</td>
            <td colspan="1" rowspan="1">
              Applies to methods that are not getters or setters.
            </td>
          
</tr>
          
<tr class="a">
            
<td colspan="1" rowspan="1">Purpose</td>
            <td colspan="1" rowspan="1">
              Marks the method as elible to be a management operation.  
            </td>
          
</tr>
          
<tr class="b">
            
<td colspan="1" rowspan="1">Parameters</td>
            <td colspan="1" rowspan="1">
              None
            </td>
          
</tr>
          
<tr class="a">
            
<td colspan="1" rowspan="1">Notes</td>
            <td colspan="1" rowspan="1">
              The standard javadoc is used to generate descriptions for any parameters to the
              method.
            </td>
          
</tr>
        
</table>
        
<p>
          Example:
        </p>
        
<pre class="code">
/**
 * Removes the application from the container
 *
 * @phoenix:mx-operation
 *
 * @param name the name of application to remove
 */
void removeApplication( String name )
        </pre>
      
      
<div class="h4">
<h4>phoenix:mx-description</h4>
</div>
        
<table class="ForrestTable" cellspacing="1" cellpadding="4">
          
<tr class="b">
            
<td colspan="1" rowspan="1">Scope</td>
            <td colspan="1" rowspan="1">
              Applies to manageable attributes and operations (i.e. to methods that also
              have the mx-operation or mx-attribute tag).
            </td>
          
</tr>
          
<tr class="a">
            
<td colspan="1" rowspan="1">Purpose</td>
            <td colspan="1" rowspan="1">
              The text following the tag is a description of the method suitable for presentation
              in the management agent.
            </td>
          
</tr>
          
<tr class="b">
            
<td colspan="1" rowspan="1">Parameters</td>
            <td colspan="1" rowspan="1">
              None
            </td>
          
</tr>
          
<tr class="a">
            
<td colspan="1" rowspan="1">Notes</td>
            <td colspan="1" rowspan="1">
              Optional.  If ommitted the javadoc definition is used.            
            </td>
          
</tr>
        
</table>
        
<p>
          Example:
        </p>
        
<pre class="code">
/**
 * Retrieve a string identifying version of server.
 * Usually looks like "v4.0.1a".
 *
 * @phoenix:mx-attribute
 * @phoenix:mx-description Retrieve a string identifying version of server.
 *
 * @return version string of server.
 */
String getVersion();
        </pre>
      
      
<div class="h4">
<h4>phoenix:mx-proxy</h4>
</div>
        
<table class="ForrestTable" cellspacing="1" cellpadding="4">
          
<tr class="b">
            
<td colspan="1" rowspan="1">Scope</td>
            <td colspan="1" rowspan="1">
              Applies to classes.
            </td>
          
</tr>
          
<tr class="a">
            
<td colspan="1" rowspan="1">Purpose</td>
            <td colspan="1" rowspan="1">
              The proxy tag is used to indicate that a proxy class should be used
              to manage some aspect(s) of this object.  At runtime, the management
              system will instantiate an instance of the proxy class passing in
              a reference to the managed object in the constructor.  Management
              calls are then made on the proxy instead of the managed object.
            </td>
          
</tr>
          
<tr class="b">
            
<td colspan="1" rowspan="1">Parameters</td>
            <td colspan="1" rowspan="1">
              Takes a single attribute, "name" that must be the full class name of a class to be used
              as proxy for the management of this class.
            </td>
          
</tr>
          
<tr class="a">
            
<td colspan="1" rowspan="1">Notes</td>
            <td colspan="1" rowspan="1">
              At runtime it is expected the manager will instantiate the proxy class and use
              it in place of the Target object.
            </td>
          
</tr>
        
</table>
        
<p>
          Example:
        </p>
        
<pre class="code">
                
/**
 * Ftp server starting point. Avalon framework will load this
 * from the jar file. This is also the starting point of remote
 * admin.
 *
 * @phoenix:block
 * @phoenix:service name="org.apache.avalon.ftpserver.interfaces.FtpServerInterface"
 *
 * @phoenix:mx-proxy class="org.apache.avalon.ftpserver.FtpServerMxProxy"
 *
 * @author  Rana Bhattacharyya &lt;rana_b@yahoo.com&gt;
 * @author  Paul Hammant &lt;Paul_Hammant@yahoo.com&gt;
 * @version 1.0
 */
 
        </pre>
      
     
    
<div class="h3">
<h3>Build Instructions</h3>
</div>
      
<p>
        To have mxinfo files generated as part as your ant build
        script, include a task like that this:
      </p>
      
<pre class="code">

&lt;!-- Make .mxinfo automatically for blocks --&gt;
&lt;target name="phoenix-qdox" depends="compile"&gt;

  &lt;mkdir dir="${build.qdox}"/&gt;

  &lt;taskdef name="generatemeta"
      classname="org.apache.avalon.phoenix.tools.metagenerate.MetaGenerateTask"&gt;
    &lt;classpath refid="project.class.path" /&gt;
  &lt;/taskdef&gt;

  &lt;generatemeta dest="${build.qdox}"&gt;
    &lt;fileset dir="${java.dir}"&gt;
      &lt;include name="**/*.java"/&gt;
    &lt;/fileset&gt;
  &lt;/generatemeta&gt;

&lt;/target&gt;

      </pre>
      
<p>
        Where build.qdox is where the .mxinfo files should be placed, and java.dir
        is the location of the source files.
      </p>
      
<p>
        The qdox jar and phoenix-client.jar need to be in the project.class.path.
      </p>
    
  

<div id="authors" align="right">by&nbsp;Huw Roberts</div>
</div>
</div>
</div>
</td>
<!--================= end Content ==================-->
</tr>
</tbody>
</table>
<!--================= end Main ==================-->
<!--================= start Footer ==================-->
<div id="footer">
<table summary="footer" cellspacing="0" cellpadding="4" width="100%" border="0">
<tbody>
<tr>
<!--================= start Copyright ==================-->
<td colspan="2">
<div align="center">
<div class="copyright">
              Copyright &copy; 2002-2003&nbsp;The Apache Software Foundation.. All rights reserved.
            </div>
</div>
</td>
<!--================= end Copyright ==================-->
</tr>
<tr>
<td align="left">
<!--================= start Host ==================-->
<!--================= end Host ==================--></td><td align="right">
<!--================= start Credits ==================-->
<div align="right">
<div class="credit"></div>
</div>
<!--================= end Credits ==================-->
</td>
</tr>
</tbody>
</table>
</div>
<!--================= end Footer ==================-->
</body>
</html>
