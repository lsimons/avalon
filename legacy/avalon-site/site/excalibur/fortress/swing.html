
  

  
  

  
  

  

  
  

  
  

  
  

  

  

  

  

  

  
  
  
  
      
  

      
      
      
      
      
      
        
         
      
      

      
      
      
      

      
      
      

      

  
  

  
  

   
   


    
	
	

    
    
      
	
	
	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

    <html>
      <head>
        
        
          <title>
            Avalon Fortress - 
          Fortress Getting Started
        
          </title>
        
        
        
        <style type="text/css">
          @import url("./style/tigris.css");
          @import url("./style/maven.css");
        </style>
        
        
        
        
        
        <link rel="stylesheet" href="./style/print.css" type="text/css" media="print"></link>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
        
          <meta name="author" content="Avalon Documentation Team"></meta>
          <meta name="email" content="dev@avalon.apache.org"></meta>
        
        
        
        
      </head>

      <body class="composite">

        <div id="banner">
          <table height="103" border="0" width="100%" cellpadding="8" cellspacing="0">
            <tr>
              
              <td>
                
                
                  
                  
                  
                    
                  
                  
                  
                  
                  
                  <a href="http://avalon.apache.org/">
                    <img border="0" alt="The Apache Software Foundation" src="http://avalon.apache.org/images/apache-avalon-logo.png" align="left"></img>
                  </a>
                
              </td>

              

              <td>
                <div id="login" align="right">
                </div>
              </td>

              
            </tr>
          </table>
        </div>
        <div id="breadcrumbs">
          <table border="0" width="100%" cellpadding="4" cellspacing="0">
            <tr>
              
                
                <td>Last published: 08 March 2004
                  
                </td>
              
              <td>
                <div align="right">
                  
                  
                  
                    
    
    
      
      
      
      <a href="http://apache.org/">Apache</a>
      
    
      |
      
      
      <a href="http://avalon.apache.org/">Avalon</a>
      
    
      |
      
      
      <a href="http://avalon.apache.org/product/framework/">Framework</a>
      
    
      |
      
      
      <a href="http://avalon.apache.org/product/containers/">Containers</a>
      
    
      |
      
      
      <a href="http://avalon.apache.org/product/components/">Components</a>
      
    
  
                  
                  
                </div>
              </td>
            </tr>
          </table>
        </div>
        
        <table border="0" width="100%" cellpadding="8" cellspacing="0"> 
          <tr valign="top">
            <td width="20%" id="leftcol">
              <div id="navcolumn">
                

                
                  
    <div>
      <strong>About Fortress</strong>
      
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="index.html">Overview</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="features.html">Features Oriented</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="getting-started.html">Getting Started</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="using-meta-info.html">Using Meta Info</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="http://avalon.apache.org/download.cgi">Download</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
    <div>
      <strong>Environment</strong>
      
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="cli.html">CLI</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      		<b><a href="swing.html">Swing</a></b>
      	
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="servlet.html">Servlet</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
    <div>
      <strong>Resources</strong>
      
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="api/index.html">API</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="lifecycle-extensions.html">Lifecycle Extensions</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="design-notes.html">Design Notes</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
                
                
                
                

                
                
                <div>
                  <strong>Project Documentation</strong>
                  <div>
                    <small>
                      <a href="./index.html">About Avalon-Fortress-Docs</a>
                    </small>
                  </div>
                  <div>
                    <small>
                      <a href="./project-info.html">Project Info</a>
                    </small>
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                  </div>
                  <div>
                    <small>
                      <a href="./maven-reports.html">Project Reports</a>
                    </small>
                    
					
                    
                    
                      
                      
                    
                      
                      
                    
                      
                      
                    
                      
                      
                    
                      
                      
                    
                    
                    
                    
                  </div>
                  
                    
                  
                  
                  
                  
                  
                    <div>
                      <small>
                        
                        <a href="http://maven.apache.org/development-process.html">Development Process</a>
                      </small>
                    </div>
                  
                </div>
              
              
                
                
                
                
              
                
              </div>
            </td>
            <td rowspan="2">
              <div id="bodycol">
                
                <div class="app">
                  
                  
    <div class="h3">
      
      
        <h3>
          <a name="Swing Based Applications">Swing Based Applications</a>
        </h3>
      
      
    <p>
      
        Swing applications are those applications that have a lovely graphical
        interface for you to interact with.  When you are done with the
        application, you close it and are done with it.  Some examples of a
        Swing based application include Apache JMeter, JEdit, and Avalon
        Instrument Client.
      
    </p>
   
    <p>
      
        Swing applications are very similar to CLI based applications in the
        way they are set up and torn down.  What differs is that the GUI runs
        in a different set of threads, so the main routine has to wait until
        the GUI is done.  There are two strategies to do that.  The first is
        to extend the DefaultContainer and use that to enclose your Swing
        based JFrame and implement the Runnable interface.  The second is to
        manage the Swing GUI separately, but give your container or its
        ServiceManager to the Swing code to interact with.
      
    </p>
   
    <div class="h4">
      
      
        <h4>
          <a name="Extending DefaultContainer">Extending DefaultContainer</a>
        </h4>
      
      
    <p>
      
          If we extend the DefaultContainer, our main method will look pretty
          much the same:
        
    </p>
   
    <div id="source">
      <pre>
          
public int main(String [] args)
{
    // You would have to implement the referenced method here...
    FortressConfig config = configWithArgs( args );
    ContainerManager cm = new DefaultContainerManager( config.getContext() );
    ContainerUtil.initialize( cm );

    // Get the root container and use it
    ((MySwingContainer) cm.getContainer()).run();

    // Clean up after ourselves
    ContainerUtil.dispose( cm );
}
          
        </pre>
    </div>
  
    <p>
      
          The extensions to DefaultContainer that you do are different for
          each application.  However, they will have some common elements.
          Here is an excerpt from both the Swing example and the Viewer
          example included in CVS.
        
    </p>
   
    <div id="source">
      <pre>
          
public class MySwingContainer extends DefaultContainer implements Runnable
{
     JFrame m_frame = new JFrame();

     // skipping non relevant parts

     public void run()
     {
         while ( m_frame.isVisible() )
         {
             try
             {
                 Thread.sleep(1000);
             }
             catch (InterruptedException ie)
             {
                 // you can either ignore the exception or you can
                 // close the application.  Remove the next line
                 // if you don't want to end the application:

                 m_frame.setVisible( false );
             }
         }
     }
}
          
        </pre>
    </div>
  
    </div>
  
    </div>
  
                  
                  
                  
                  
                  
                </div>
              </div>
            </td>
          </tr>
        </table>
        <div id="footer">
          <table border="0" style="width:100%" cellpadding="4" cellspacing="0">
            
            <tr>
              <td>
                
                  
                    
                    
                      © 2003-2004, The Apache Software Foundation
                    
                  
                  
                

                
              </td>
              
            </tr>
          </table>
        </div>
      </body>
    </html>
  