<?xml version="1.0"?>

<!-- Sample Build file to generate BlockInfo from Javadoc tags -->
<project default="main" basedir=".">

  <property name="src.base" value="src"/>
  <property name="java.dir" value="${src.base}/java"/>
  <property name="lib.dir" value="lib"/>

  <!-- directory where you place generated code -->
  <property name="gen.dir" value="gen"/>

  <path id="project.class.path">
    <pathelement path="${java.class.path}" />
    <fileset dir="${lib.dir}">
      <include name="*.jar" />
    </fileset>
  </path>

  <!-- Main target -->
  <target name="main" depends="test-xdoclet" />

  <!-- runs xdoclet if need be -->
  <target name="test-xdoclet">
    <taskdef name="phoenix-blocks"
             classname="org.apache.avalon.phoenix.tools.xdoclet.PhoenixXDoclet"
             classpathref="project.class.path"/>

    <phoenix-blocks
        destdir="${gen.dir}"
        classpathref="project.class.path">
      <fileset dir="${java.dir}">
        <include name="**/*.java" />
      </fileset>
      <blockinfo/>
      <manifest manifestFile="manifest.mf" />
    </phoenix-blocks>

  </target>

</project>
