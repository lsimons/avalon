
<!--
Thread Block deployment directive.
-->

<block>

   <info>
     <name>connection</name>
   </info>

   <services>
     <service type="org.apache.avalon.cornerstone.services.connection.ConnectionManager">
       <source>manager</source>
     </service>
   </services>

   <dependencies>
     <dependency type="org.apache.avalon.cornerstone.services.threads.ThreadManager:1.0"/>
   </dependencies>

   <implementation>

     <categories priority="INFO"/>

     <engine>
       <classpath>
         <repository>
           <resource id="cornerstone-threads:cornerstone-threads-api" version="1.0"/>
           <resource id="cornerstone-sockets:cornerstone-sockets-api" version="1.0"/>
           <resource id="cornerstone-connection:cornerstone-connection-api" version="1.0"/>
           <resource id="excalibur-thread:excalibur-thread" version="1.1.1"/>
         </repository>
       </classpath>
     </engine>

     <component name="manager" 
        class="org.apache.avalon.cornerstone.blocks.connection.DefaultConnectionManager" 
        activation="true">
       <configuration>
         <idle-timeout>300000</idle-timeout>
         <max-connections>30</max-connections>
       </configuration>
     </component>

   </implementation>

</block>
