<?xml version="1.0"?>

<!DOCTYPE changes SYSTEM "dtd/changes-v10.dtd">

<changes title="LogKit History of Changes">
  <devs>
    <person name="Peter Donald" email="donaldp@apache.org" id="PD"/>
    <person name="Berin Loritsch" email="bloritsch@apache.org" id="BL"/>
    <person name="Stuart Roebuck" email="stuart.roebuck@adolos.co.uk" id="SR"/>
  </devs>
<release version="1.0b4" date="Unreleased">
<!--

-->
  <action dev="PD" type="add">
    Also added auxilliary method to allow retrieval of current ContextStack without 
    creating it if it does not exist.
  </action>
  <action dev="PD" type="add">
    Added method to allow arbitrary ContextStacks to be bound to current thread via
    ContextStack.bind().
  </action>
  <action dev="PD" type="update">
    Rework existing logtargets so that they are thread safe, perform better error
    management and improves usability. Old style targets have been deprecated as
    has any "unsafe" methods.
  </action>
  <action dev="PD" type="update">
    Added extra constructor to PatternFormatter so that format string may be 
    specified at construction time.    
  </action>
  <action dev="PD" type="add">
    Added StackIntrospector class that is amalgamation of utility code supplied by
     Stuart Roebuck <stuart.roebuck@adolos.co.uk> and  Sylvain 
     Wallez <sylvain.wallez@anyware-tech.com>.
  </action>
  <action dev="SR" type="update">
    Right justified fields are cropped on the left. ie [%-20.20{context}] changes from 
    outputting "[org.apache.log.forma]" to "[mat.PatternFormatter]".
  </action>
  <action dev="PD" type="update">
    Made Hierarchy.log() deal gracefully with a null exception parameter.
  </action>
  <action dev="BL" type="add">
    Added stylesheet to convert Stylebook markup to DocBook markup.
  </action>
  <action dev="BL" type="change">
    Deprecated AvalonFormatter and created a new Formatter inside Avalon project.
  </action>
  <action dev="BL" type="change">
    Changed the documentation build process to use Cocoon to build
    the site.
  </action>
  <action dev="PD" type="update">
    Deprecated FilterTarget it was rarely (never?) used and offers only minor 
    advantages over directly using sub-classes.
  </action>
  <action dev="PD" type="add">
    Added XMLFormatter to enable writing logs in XML format.
  </action>
  <action dev="PD" type="update">
    Implemented ContextStack.toString() and ContextStack.toString(int) to convert stack 
    into string.
  </action>
  <action dev="PD" type="update">
    Made priority serializable.
  </action>
</release>
<release version="1.0b3" date="July 22, 2001">
  <action dev="PD" type="update">
    Added setPriority() method to Priority filter to allow modification of 
    filter properties at runtime.
  </action>
  <action dev="PD" type="update">
    Deprecated Logger.getCategory as it violates the Inversion Of Control principle.
  </action>
  <action dev="PD" type="update">
    Enhanced FileOutputLogTarget to enable it to be used to append to a file, rather than overwrite.
  </action>
</release>
<release version="1.0b2" date="June 4, 2001">
  <action dev="BL" type="add">
    Beta 2 release.
  </action>
  <action dev="PD" type="update">
    Update documentation so that you can get started easily.
  </action>
  <action dev="BL" type="fix">
    Fixed logical error in PriorityFilter.  The code _used_ to allow
    anything up to a priority level (i.e. if priority was set to
    ERROR, then it would allow DEBUG, INFO, and WARN).  Now it
    operates correctly (i.e. if priority was set to ERROR, then
    it will allow ERROR and FATAL_ERROR).
  </action>
</release>
<release version="1.0b1" date="May 11, 2001">

  <action dev="PD" type="add">First public release.</action>
  <action dev="PD" type="update">
  Renamed LogEntry to LogEvent. This was done as Entry was a misnomer.
  It was a misnomer as each Entry could in fact never be placed in
  logs or placed in multiple logs. It is up to the LogTargets how to 
  treat the event and whether or not to convert the event into an entry.
  Updated all interfaces that referred to entry to refer to event.
  </action>
  <action dev="PD" type="add">
  Added getCurrentContextStack() to ContextStack class and made the
  method with same name in LogKit delegate to ContextStack.getCurrentContextStack()
  </action>
  <action dev="PD" type="add">
  Added getDefaultLogEngine() to LogEngine and made the method with same name
  in LogKit delegate to LogEngine.getDefaultLogEngine()
  </action>
  <action dev="PD" type="update">
  Made Priority a class in place of Priority.Enum class. Converted constants
  to use this interface. Added getPriorityForName() method and made LogKit
  method of same name delegate to it.
  </action>
  <action dev="PD" type="update">
  Made ContextStack contain objects other than strings.
  </action>
  <action dev="PD" type="update">
  Made each hierarchy extend from a root Logger about category "". Also put
  default log target into this Logger. Thus no longer *need* getDefaultLogTarget
  method in LogEngine/LogKit - thus it was removed.
  </action>
  <action dev="PD" type="update">
  Made each logger cache a version of logTargets. Combine this with the root logger
  containing default log target means that you no longer have to recursively
  check parents to get LogTargets or check the engine. This is considerably 
  faster.
  </action>
  <action dev="PD" type="update">
  Made "category" behave identically to logTarget inheritance wise.
  Each logger caches priority when it is inherited from parents. This is
  slightly faster than old version.
  </action>
  <action dev="PD" type="remove">
  Merged "Category" object into Logger. This required adding getPriority to 
  Logger and making Logger.getCategory() return name of category rather than
  Category object.
  </action>
  <action dev="PD" type="fix">
  Protected logger manipulation by synchronized sections
  </action>
  <action dev="PD" type="update">
  Made ServletOutputTarget not filter - leave that to a separate FilterTarget
  </action>
  <action dev="PD" type="update">
  Moved instance variables to private instead of protected were appopriate.
  This allows to decrease maintanence cost just in case someone inherits
  from one of our classes.
  </action>
  <action dev="PD" type="remove">
  Removed the hashtable that stored log targets as it can be easily done
  by users of LogKit and wasn't serving any real purpose.
  </action>
  <action dev="PD" type="update">
  Renamed LogEngine to Hierarchy to match Log4j and allow easy cross migration
  </action>
</release>

</changes>
