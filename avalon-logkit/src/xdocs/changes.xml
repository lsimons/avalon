<?xml version="1.0" encoding="UTF-8"?>
<changes title="LogKit History of Changes">
  <devs>
    <author email="peter at apache.org">Peter Donald</author>
    <author email="bloritsch at apache.org">Berin Loritsch</author>
    <author email="stuart.roebuck at adolos.co.uk">Stuart Roebuck</author>
    <author email="colus at apache.org">Eung-ju Park</author>
    <author email="leif at apache.org">Leif Mortenson</author>
    <author email="giacomo at apache.org">Giacomo Pati</author>
    <author email="crafterm at apache.org">Marcus Crafter</author>
    <author email="sylvain.wallez at anyware-tech.com">Sylvain Wallez</author>
    <author email="shash_list at hotmail.com">Sash Chatterjee</author>
  </devs>
  <release version="1.2" date="?">
    <action dev="PD" type="add">
      Add LoggerListener support.
    </action>
    <action dev="SC" type="add">
      Add support for any arbitrary logger wrapper class.
    </action>
    <action dev="SW" type="add">
      Add support for the LF5 GUI logging target.
    </action>
    <action dev="BL" type="remove">
      Remove the circular dependency on Avalon Framework.
    </action>
    <action dev="BL" type="update">
      Ensure all source files contain the blessed version of the license.
    </action>
    <action dev="PD" type="fix">
      Makes sure target arrays contain no nulls and a few other cleanups.
    </action>
  </release>
  <release version="1.1" date="September 1, 2002">
    <action dev="MC" type="add">
      Added SMTPOutputLogTarget to enable logging to email addresses.
    </action>
    <action dev="EP" type="add">
      Several bug fixes. Submitted By: David Gray
    </action>
    <action dev="LM" type="update">
      Changed the default log format so that the log entry times are formatted
      using a human friendly format.
    </action>
    <action dev="EP" type="update">
      Rotate before write.
    </action>
    <action dev="EP" type="add">
      Added RotateStrategyByDate to enable daily, weekly, and monthly
      rotation of log files. Submitted By: Bernhard Huber
    </action>
  </release>
  <release version="1.0.1" date="January 31, 2001">
    <action dev="PD" type="fix">
      Fixed spelling in the documentation files.
    </action>
    <action dev="PD" type="fix">
      Fix javadoc warnings from "@returns" tags used instead of "@return".
    </action>
    <action dev="GP" type="update">
      added new constructors to produce better readable file names in the
      File Strategy classes.
    </action>
    <action dev="PD" type="fix">
      Added fixes to AsyncLogTarget: Make sure that the LogTarget delegated
      to cannot disrupt thread by throwing an exception.  Remove uneeded step
      from documentation.
    </action>
    <action dev="PD" type="udpate">
      Many improvements to PatternFormatter including:  Made it possible to
      specify the format of date in the auxilliary parameter of the format
      for dates.  Cached the date and DateFormatter objects so that they are
      not created every time a LogEvent is formatted.  Added a getRTime()
      method to format relative time. Just delegates to getTime at the
      moment for backwards compatability.
    </action>
    <action dev="PD" type="update">
      Made sure that additivity is transitive (in Logger) - even when you
      only inherit your loggers from your parent.
    </action>
    <action dev="PD" type="update">
      Added isPriorityEnabled() method to Logger to determine if specified
      priority is enabled.
    </action>
    <action dev="LM" type="update">
      Various build improvements.
    </action>
  </release>
  <release version="1.0" date="October 26, 2001">
    <action dev="BL" type="remove">
      Remove references to Testlet (since we migrated to JUnit).
    </action>
    <action dev="PD" type="fix">
      Fixed EOL issues in test so that line formatting works across all
      systems (rather than just unix).
    </action>
    <action dev="PD" type="update">
      Added in a clearer javadoc class description in PatternFormatter.
    </action>
    <action dev="PD" type="update">
      Made Hierarchy setDefaultLogTargets() which is like
      setDefaultLogTarget() but accepts an array.
    </action>
    <action dev="EP" type="update">
      Use default log format when use default constructor in
      AvalonFormatter comaptibility.
    </action>
    <action dev="BL" type="update">
      Various build improvements.
    </action>
  </release>
  <release version="1.0b5" date="September 17, 2001">
    <action dev="EP" type="update">
      Updated unit tests to use JUnit rather than Testlet.
    </action>
    <action dev="PD" type="add">
      Deprecate OutputStreamLogger and replace with LoggerOutputStream.
    </action>
    <action dev="PD" type="add">
      Added JMS support for JMS Log messages.
    </action>
    <action dev="PD" type="add">
      Added file rotation strategies, including patches from
      Bernhard Huber and Carsten Ziegeler
    </action>
    <action dev="PD" type="add">
      Implemented a database log target.
    </action>
    <action dev="PD" type="fix">
      Used synchronization to make targets more threads safe.
    </action>
    <action dev="PD" type="fix">
      Fix masquerading attack security hole.
    </action>
    <action dev="PD" type="update">
      Incorporate additivity feature similar to Log4j.  This is needed as
      getLogTargets() is deprecated for security reasons (allowed masq)
      and yet this functionality is still needed.  Added unit tests to
      verify it behaves as expected.
    </action>
    <action dev="PD" type="update">
      Made LogEvent serializable. The format may change slightly before
      release.
    </action>
    <action dev="PD" type="update">
      Passed Hierarchy object as ErrorHandler. Hierarchy delegates to another
      ErrorHandler which allows ErrorHandler to be pluggable without resetting
      all ErrorHandlers each time an ErrorHandler is changed.
    </action>
    <action dev="PD" type="update">
      Incorporated delegation of Error Handling to ErrorHandler.
      Logging components receive an ErrorHandler by implementing ErrorAware.
      Added AbstractTarget that provided basic functionality of open/close
      and error handling almost always needed by LogTargets.
      Refactored all existing targets to work with this method.
    </action>
    <action dev="PD" type="update">
      Made ContextMap serializable. After deserializing it defaults to readonly.
      This assumes that Context only contains serializable elements.
    </action>
    <action dev="BL" type="update">
      Update build process to the proposed standard.
    </action>
    <action dev="PD" type="update">
      Update build process to notify the user of missing jars, and perform
      many other checks
    </action>
  </release>
<release version="1.0b4" date="August 6, 2001">
  <action dev="PD" type="update">
    Added ContextMap, updated whitepaper to describe the feature. Deprecated ContextStack
    in the process as it encouraged bad practices and has been supersceded by ContextMap.
  </action>
  <action dev="PD" type="add">
    Added ExtendedPatternFormatter to allow log messages to be formatted with
    caller method and thread ids.
  </action>
  <action dev="PD" type="update">
    Fixed bug in OutputStreamLogger so that it does not append a '\n' at end
    of stream.
  </action>
  <action dev="PD" type="add">
    Added Target SafeFileTarget that opens file and then closes file each time
    a log entry is written.
  </action>
  <action dev="PD" type="add">
    Added basic unit tests for the logkit formatters, stream and file output
    targets, priority and logTarget inheritance and utility code.
  </action>
  <action dev="PD" type="update">
    Rework existing logtargets so that they are thread safe, perform better error
    management and improve usability. Old style targets have been deprecated as
    have any "unsafe" methods.
  </action>
  <action dev="PD" type="update">
    Added extra constructor to PatternFormatter so that format string is
    specified at construction time. Deprecated no arguements constructor
    and setFormat() method.
  </action>
  <action dev="PD" type="add">
    Added StackIntrospector class that is amalgamation of utility code supplied by
    Stuart Roebuck (stuart.roebuck@adolos.co.uk) and  Sylvain
    Wallez (sylvain.wallez@anyware-tech.com).
  </action>
  <action dev="SR" type="update">
    Right justified fields are cropped on the left. ie [%-20.20{context}] changes from
    outputting "[org.apache.log.forma]" to "[mat.PatternFormatter]".
  </action>
  <action dev="PD" type="update">
    Made Hierarchy.log() deal gracefully with a null exception parameter.
  </action>
  <action dev="BL" type="add">
    Added stylesheet to convert Stylebook markup to DocBook markup.
  </action>
  <action dev="BL" type="change">
    Deprecated AvalonFormatter and created a new Formatter inside Avalon project.
  </action>
  <action dev="BL" type="change">
    Changed the documentation build process to use Cocoon to build
    the site.
  </action>
  <action dev="PD" type="update">
    Deprecated FilterTarget it was rarely (never?) used and offers only minor
    advantages over directly using sub-classes.
  </action>
  <action dev="PD" type="add">
    Added XMLFormatter to enable writing logs in XML format.
  </action>
  <action dev="PD" type="update">
    Made priority serializable.
  </action>
</release>
<release version="1.0b3" date="July 22, 2001">
  <action dev="PD" type="update">
    Added setPriority() method to Priority filter to allow modification of
    filter properties at runtime.
  </action>
  <action dev="PD" type="update">
    Deprecated Logger.getCategory as it violates the Inversion Of Control principle.
  </action>
  <action dev="PD" type="update">
    Enhanced FileOutputLogTarget to enable it to be used to append to a file, rather than overwrite.
  </action>
</release>
<release version="1.0b2" date="June 4, 2001">
  <action dev="BL" type="add">
    Beta 2 release.
  </action>
  <action dev="PD" type="update">
    Update documentation so that you can get started easily.
  </action>
  <action dev="BL" type="fix">
    Fixed logical error in PriorityFilter.  The code _used_ to allow
    anything up to a priority level (i.e. if priority was set to
    ERROR, then it would allow DEBUG, INFO, and WARN).  Now it
    operates correctly (i.e. if priority was set to ERROR, then
    it will allow ERROR and FATAL_ERROR).
  </action>
</release>
<release version="1.0b1" date="May 11, 2001">

  <action dev="PD" type="add">First public release.</action>
  <action dev="PD" type="update">
  Renamed LogEntry to LogEvent. This was done as Entry was a misnomer.
  It was a misnomer as each Entry could in fact never be placed in
  logs or placed in multiple logs. It is up to the LogTargets how to
  treat the event and whether or not to convert the event into an entry.
  Updated all interfaces that referred to entry to refer to event.
  </action>
  <action dev="PD" type="add">
  Added getCurrentContextStack() to ContextStack class and made the
  method with same name in LogKit delegate to ContextStack.getCurrentContextStack()
  </action>
  <action dev="PD" type="add">
  Added getDefaultLogEngine() to LogEngine and made the method with same name
  in LogKit delegate to LogEngine.getDefaultLogEngine()
  </action>
  <action dev="PD" type="update">
  Made Priority a class in place of Priority.Enum class. Converted constants
  to use this interface. Added getPriorityForName() method and made LogKit
  method of same name delegate to it.
  </action>
  <action dev="PD" type="update">
  Made ContextStack contain objects other than strings.
  </action>
  <action dev="PD" type="update">
  Made each hierarchy extend from a root Logger about category "". Also put
  default log target into this Logger. Thus no longer *need* getDefaultLogTarget
  method in LogEngine/LogKit - thus it was removed.
  </action>
  <action dev="PD" type="update">
  Made each logger cache a version of logTargets. Combine this with the root logger
  containing default log target means that you no longer have to recursively
  check parents to get LogTargets or check the engine. This is considerably
  faster.
  </action>
  <action dev="PD" type="update">
  Made "category" behave identically to logTarget inheritance wise.
  Each logger caches priority when it is inherited from parents. This is
  slightly faster than old version.
  </action>
  <action dev="PD" type="remove">
  Merged "Category" object into Logger. This required adding getPriority to
  Logger and making Logger.getCategory() return name of category rather than
  Category object.
  </action>
  <action dev="PD" type="fix">
  Protected logger manipulation by synchronized sections
  </action>
  <action dev="PD" type="update">
  Made ServletOutputTarget not filter - leave that to a separate FilterTarget
  </action>
  <action dev="PD" type="update">
  Moved instance variables to private instead of protected were appopriate.
  This allows to decrease maintanence cost just in case someone inherits
  from one of our classes.
  </action>
  <action dev="PD" type="remove">
  Removed the hashtable that stored log targets as it can be easily done
  by users of LogKit and wasn't serving any real purpose.
  </action>
  <action dev="PD" type="update">
  Renamed LogEngine to Hierarchy to match Log4j and allow easy cross migration
  </action>
</release>

</changes>
