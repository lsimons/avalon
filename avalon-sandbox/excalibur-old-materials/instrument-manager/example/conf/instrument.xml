<instrument logger="im">
    <state-file interval="60000" use-compact-samples="true">../data/instrument.sampledata</state-file>
    
    <instrumentables>
        <!-- The profiler Profilable is the ProfilerManager itself. -->
        <instrumentable name="component-manager">
            <instrument name="example-instrumentable.puts">
                <sample type="ctr" interval="1000" size="600"/>
            </instrument>
            <instrument name="example-instrumentable.gets">
                <sample type="ctr" interval="1000" size="600"/>
            </instrument>
            <instrument name="example-instrumentable.references">
                <sample type="max" interval="1000" size="600"/>
            </instrument>
        </instrumentable>
        
        <instrumentable name="instrument-manager" description="Instrument Manager">
            <instrument name="active-thread-count" description="Active Thread Count">
                <sample type="max" interval="1000" size="600" description="Maximum each second."/>
            </instrument>
            
            <instrument name="total-memory" description="Total Memory">
                <sample type="max" interval="1000" size="600" description="Maximum each second."/>
            </instrument>
            
            <instrument name="free-memory" description="Free Memory">
                <sample type="min" interval="1000" size="600" description="Minimum each second."/>
            </instrument>
            
            <instrument name="memory" description="In-Use Memory">
                <sample type="max" interval="1000" size="600" description="Maximum each second."/>
            </instrument>
        </instrumentable>
        
        <!-- ExampleProfilable. -->
        <instrumentable name="example-instrumentable" description="Example Instrumentable">
            <!-- Note that any number of samples are possible for each profile point. -->
            <instrument name="random-quick" description="Random Values at a quick rate.">
                <sample type="maximum" interval="1000" size="600" description="Maximum each second."/>
                <sample type="minimum" interval="1000" size="600" description="Minimum each second."/>
                <sample type="mean" interval="1000" size="600" description="Average each second."/>
            </instrument>
            
            <instrument name="random-slow" description="Random Values at a slow rate.">
                <sample type="maximum" interval="1000" size="600" description="Maximum each second."/>
                <sample type="minimum" interval="1000" size="600" description="Minimum each second."/>
                <sample type="mean" interval="1000" size="600" description="Average each second."/>
            </instrument>
            
            <instrument name="random-random" description="Random Values at a random rate.">
                <sample type="maximum" interval="1000" size="600" description="Maximum each second."/>
                <sample type="minimum" interval="1000" size="600" description="Minimum each second."/>
                <sample type="mean" interval="1000" size="600" description="Average each second."/>
            </instrument>
            
            <instrument name="counter-quick" description="Count of actions at a quick rate.">
                <sample type="counter" interval="100" size="600" description="Count per 100ms."/>
                <sample type="counter" interval="1000" size="600" description="Count per second."/>
                <sample type="counter" interval="60000" size="60" description="Count per minute."/>
            </instrument>
            
            <instrument name="counter-slow" description="Count of actions at a slow rate.">
                <sample type="counter" interval="1000" size="600" description="Count per second."/>
                <sample type="counter" interval="60000" size="60" description="Count per minute."/>
            </instrument>
            
            <instrument name="counter-random" description="Count of actions at a random rate.">
                <sample type="counter" interval="1000" size="600" description="Count per second."/>
                <sample type="counter" interval="60000" size="60" description="Count per minute."/>
            </instrument>
            
            <instrument name="doaction-counter" description="Number of times doAction is called.">
                <sample type="counter" interval="1000" size="600" description="Count per second."/>
                <sample type="counter" interval="60000" size="60" description="Count per minute."/>
            </instrument>
        </instrumentable>
    </instrumentables>
</instrument>