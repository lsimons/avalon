<?xml version="1.0" encoding="iso-8859-1"?>

<block name="jmx">

  <implementation>

    <categories priority="INFO"/>

    <engine>
      <classpath>
        <repository>
          <resource id="mx4j:mx4j-jmx" version="1.1.1"/>
          <resource id="mx4j:mx4j-tools" version="1.1.1"/>
        </repository>
      </classpath>
    </engine>

    <!-- the declaration of jmx-server is optional -->
    <component name="jmx-server" class="my.avalon.jmx.JMXServerProxy" activation="true"/>

    <!-- an "jmx-http" could be used to access jmx-server throught HTTP -->
    <component name="jmx-http" class="my.avalon.jmx.HTTPAdaptorWrapper" activation="true">
      <configuration>
        <xslt-processor enable="true"/>
        <port>8082</port>
        <host>localhost</host>
      </configuration>
    </component>

    <component name="jmx-jrmp" class="my.avalon.jmx.JRMPAdaptorWrapper" activation="true">
      <configuration>
        <port>1099</port>
      </configuration>
    </component>

    <!-- samples component (see api for difference) -->
    <component name="system-info" class="my.avalon.jmx.tools.SystemInfo" activation="true"/>

    <!-- samples component (see api for difference) -->
    <component name="jmx-hello" class="my.avalon.jmx.samples.HelloSample" activation="true"/>
    <component name="jmx-hello2" class="my.avalon.jmx.samples.HelloSample2" activation="true"/>
    <component name="jmx-hello3" class="my.avalon.jmx.samples.HelloSample3" activation="true"/>
    <component name="jmx-hello3Bis" class="my.avalon.jmx.samples.HelloSample3" activation="true"/>
    <container name="jmx-hello4Compo" class="my.avalon.jmx.samples.HelloSample4" activation="true">
      <component name="jmx-hello3Sub" class="my.avalon.jmx.samples.HelloSample3" activation="true"/>
    </container>
  </implementation>
</block>
