<?xml version="1.0"?>

<phoenix>
    <embeddor role="org.apache.avalon.phoenix.interfaces.Embeddor"
        class="org.apache.avalon.phoenix.components.embeddor.DefaultEmbeddor">

        <component role="org.apache.avalon.phoenix.interfaces.Deployer"
            class="org.apache.avalon.phoenix.components.deployer.DefaultDeployer"
            logger="deployer"/>

        <component role="org.apache.avalon.phoenix.interfaces.LogManager"
            class="org.apache.avalon.phoenix.components.logger.DefaultLogManager"
            logger="logs"/>

        <!-- There is one JMX MBeanServer infrastructure currently
             supported by Avalon, namely MX4J. Previously the JMX RI
             was supported but due to severe bugs and lack of implementation
             of certain features (such as ModelMBeans), support has been
             dropped for the JMX RI implementation.

            The MX4J manager using the MX4J adapter devewloped at SourceForge
            See http://mx4j.sourceforge.net/ -

              org.apache.avalon.phoenix.components.manager.MX4JSystemManager
              
            There is an impl of system manager that does nothing and it is....
            
              org.apache.avalon.phoenix.components.manager.NoopSystemManager
            
            Alternatively, you could comment the whole SystemManager section out.
        -->

        <component role="org.apache.avalon.phoenix.interfaces.SystemManager"
            class="org.apache.avalon.phoenix.components.manager.MX4JSystemManager"
            logger="manager" >
            
          <!--
            By default the Mx4J Http Adaptor will bind a webserver to all
            network interfaces. If you wish to restrict it to only one
            interface (say localhost) then uncomment and edit the next line.
          -->
          <!--
          <manager-adaptor-host>localhost</manager-adaptor-host>
          -->

          <!--
            This specifies the IP port which the Http Adaptor will bind on.
          -->            
          <manager-adaptor-port>8082</manager-adaptor-port>
          <!--
          <enable-rmi-adaptor>true</enable-rmi-adaptor>
          <rmi-naming-factory>com.sun.jndi.rmi.registry.RegistryContextFactory</rmi-naming-factory>
          <stylesheets-dir>conf/xsl</stylesheets-dir>
          -->
          
          <!--
            If you want the HTTPAdaptor to require authentication then you need to specify
            a username and password in the next xml block.
          -->          
          <!--
          <user>
            <name>user</name>
            <password>password</password>
          </user>
          -->
        </component>

        <!-- There are two kernels
          org.apache.avalon.phoenix.components.kernel.DefaultKernel
            - The default one.
          org.apache.avalon.phoenix.components.kernel.beanshell.BeanShellKernel
            - One with a beanshell view at the application level.
        -->
        <component role="org.apache.avalon.phoenix.interfaces.Kernel"
            class="@KERNEL-CLASS@"
            logger="kernel"/>

        <component role="org.apache.avalon.phoenix.interfaces.ConfigurationRepository"
            class="org.apache.avalon.phoenix.components.configuration.DefaultConfigurationRepository"
            logger="config"/>

        <!--
        <component role="org.apache.avalon.phoenix.interfaces.ConfigurationRepository"
            class="org.apache.avalon.phoenix.components.configuration.FileSystemPersistentConfigurationRepository"
            logger="config"/>
            -->

        <component role="org.apache.avalon.phoenix.interfaces.ConfigurationValidator"
            class="org.apache.avalon.phoenix.components.configuration.validator.NoopConfigurationValidator"
            logger="validator"/>

<!--
        <component role="org.apache.avalon.phoenix.interfaces.ConfigurationValidator"
            class="org.apache.avalon.phoenix.components.configuration.validator.DelegatingConfigurationValidator"
            logger="validator">
            <delegate schema-type="relax-ng"
                class="org.apache.avalon.phoenix.components.configuration.validator.JarvConfigurationValidator">
                <schema-language>http://relaxng.org/ns/structure/1.0</schema-language>
            </delegate>
        </component>
        -->

        <component role="org.apache.avalon.phoenix.interfaces.ClassLoaderManager"
            class="org.apache.avalon.phoenix.components.classloader.DefaultClassLoaderManager"
            logger="classes"/>
        <component role="org.apache.avalon.excalibur.packagemanager.ExtensionManager"
            class="org.apache.avalon.phoenix.components.extensions.DefaultExtensionManager"
            logger="packages"/>
<!--
        <component role="org.apache.avalon.excalibur.packagemanager.ExtensionManager"
            class="org.apache.avalon.excalibur.packagemanager.impl.NoopPackageRepository"
            logger="packages"/>
-->
    </embeddor>
</phoenix>
