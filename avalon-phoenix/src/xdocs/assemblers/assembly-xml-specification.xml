<?xml version="1.0"?>

<document>
  <header>
    <title>Specification of assembly.xml </title>
      <person name="Peter Donald" email="peter@apache.org"/>
  </header>
  <body>
    <section name="Introduction">
      <p>
        The purpose of the <code>assembly.xml</code> file is to define how the Server
        Application is assembled from it's component Blocks. This requires naming each
        block, specifying the implementation class for each block and wiring together
        blocks. The wiring is done via provides elements. Each provide element maps a
        block instance to a role of a dependency specified in the BlockInfo file. See
        below for a sample assembly.xml file.
      </p>
      <p>
        The <code>assembly.xml</code> can also specify <code>ApplicationListener</code>
        objects that will be created for application. The listeners need a name and
        a classname.
      </p>
      <p>
        In previous versions of Phoenix, configuration data was also stored in the
        assembly file. This is no longer the case (It is now stored in config.xml).
      </p>
    </section>
    <section name="Sample assembly.xml file">
      <source><![CDATA[
<?xml version="1.0"?>

<assembly>

    <listener name="myListener"
           class="com.biz.cornerstone.listeners.MyListener">
    </listener>

    <block name="myAuthorizer"
           class="com.biz.cornerstone.blocks.MyAuthorizer">
    </block>

    <block name="myBlock"
           class="com.biz.cornerstone.blocks.MyBlock">
      <provide name="myAuthorizer"
               role="com.biz.cornerstone.services.Authorizer"/>
    </block>

</assembly>]]>

      </source>
    </section>
  </body>
</document>

