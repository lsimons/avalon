<?xml version="1.0"?>

<!DOCTYPE document SYSTEM "dtd/document-v10.dtd">

<document>
  <header>
    <title>Block Developers Guide</title>
    <subtitle>What is a Block Listener?</subtitle>
    <authors>
      <person id="PD" name="Peter Donald" email="peter@apache.org"/>
    </authors>
  </header>
  <body>
    <s1 title="Introduction">
      <p>
        A Phoenix Application consists of Blocks. Blocks can depend on the 
        services of other Blocks. However there is circumstances in which
        relationships between Blocks other than dependency relationships 
        should exist in an application.
      </p>
      <p>
        For example, you may have a Block that is capable of exporting
        other Blocks as SOAP services. The Blocks that wish to be exported 
        as SOAP services may need to export a service interface that extends
        SOAPClient. 
      </p>
    </s1>
    <s1 title="What is a Block Listener?">
      <p>
        A BlockListener is a component that is created before any Blocks are 
        created in an Application. It receives notification after each Block
        is created and setup for Application. The listener also receives 
        notification when a Block is about to be shutdown.
      </p>
      <p>        
        The relationship discussed above (between SOAPServer and SOAPClients)
        could be modelled as dependencies but that would mean that each application 
        would need to modify the SOAPServer so that it depended on a particular 
        number of SOAPClients that was specific to application. A better approach 
        to modelling these relationships would be to use a BlockListener to "wire" 
        together the SOAPClient services in Blocks to the SOAPServer service. As 
        soon as any Block is detected that implements a SOAPClient service it could 
        be registered with the SOAPServer.
      </p>
    </s1>
  </body>
  <footer>
    <legal>
      Copyright (c) @year@ The Jakarta Apache Project All rights reserved.
      $Revision: 1.2 $ $Date: 2001/11/19 12:21:32 $
    </legal>
  </footer>
</document>
