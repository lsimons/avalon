<?xml version="1.0"?>

<!DOCTYPE document SYSTEM "dtd/document-v10.dtd">

<document>
  <header>
    <title>Server Assemblers Guide</title>
    <subtitle>Specification of assembly.xml </subtitle>
    <authors>
      <person id="PD" name="Peter Donald" email="donaldp@apache.org"/>
    </authors>
  </header>
  <body>
    <s1 title="Introduction">
      <p>
        The purpose of the <code>assembly.xml</code> file is to define how the Server
        Application is assembled from it's component Blocks. This requires naming each
        block, specifying the implementation class for each block and wiring together
        blocks. The wiring is done via provides elements. Each provide element maps a
        block instance to a role of a dependency specified in the BlockInfo file. See 
        below for a sample assembly.xml file.
      </p>
      <p>
        The <code>assembly.xml</code> can also specify <code>BlockListener</code>
        objects that will be created for application. The listeners need a name and
        a classname.
      </p>
      <p>
        In previous versions of Phoenix, configuration data was also stored in the 
        assembly file. This is no longer the case (It is now stored in config.xml).
      </p>
    </s1>
    <s1 title="Sample assembly.xml file">
      <source><![CDATA[
<?xml version="1.0"?>

<assembly>

    <block name="myListener" 
           class="com.biz.cornerstone.listeners.MyListener">
    </block>

    <block name="myAuthorizer" 
           class="com.biz.cornerstone.blocks.MyAuthorizer">
    </block>

    <block name="myBlock" 
           class="com.biz.cornerstone.blocks.MyBlock">
      <provide name="myAuthorizer" 
               role="com.biz.cornerstone.services.Authorizer"/>
    </block>

</assembly>]]>

      </source>
    </s1>
  </body>
  <footer>
    <legal>
      Copyright (c) @year@ The Jakarta Apache Project All rights reserved.
      $Revision: 1.4 $ $Date: 2001/09/22 04:33:50 $
    </legal>
  </footer>
</document>

