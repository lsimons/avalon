<?xml version="1.0"?>

<!-- 
 Copyright 2004 Apache Software Foundation
 Licensed  under the  Apache License,  Version 2.0  (the "License");
 you may not use  this file  except in  compliance with the License.
 You may obtain a copy of the License at 
 
   http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing, software
 distributed  under the  License is distributed on an "AS IS" BASIS,
 WITHOUT  WARRANTIES OR CONDITIONS  OF ANY KIND, either  express  or
 implied.
 
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<document>

  <properties>
    <author email="mcconnell@apache.org">Stephen McConnell</author>
    <title>Javadoc Tag Specification</title>
  </properties>

  <body>

    <section name="Javadoc Tags">

      <subsection name="Entry Tag">
<p>The entry tag declares a context entry required by a component.  The component is supplied the context entry via a context argument as part of the contextualization lifecycle stage. Context entries my declare a object type or array of object types.  If the type is not declared java.lang.String is assumed.  Context entries may be declared as option.  The default behaviour is to assume that a context entry is required.</p>

<source><![CDATA[
package net.osm;

/**
 * Example of a component declaring a context entry dependencies.
 *
 * @avalon.meta.version 1.0
 * @avalon.meta.name entry-demo
 */
public class Primary implements Contextualizable
{
   /**
    * @avalon.meta.entry type="java.io.File" key="home" optional="true"
    * @avalon.meta.entry key="table" type="java.lang.Object[]"
    * @avalon.meta.entry key="name"
    */
    public void contextualize( Context context ) 
      throws ContextException
    {
        String name = (String) context.get( "name" );
        Object[] array = (Object[]) context.get( "table" );
        try
        {
            File home = (File) context.get( "home" );
            ...
        }
        catch( ContextException ce )
        {
            // it's optional
        }
    }
}
]]></source>

<p>Generated meta-info type descriptor:</p>

<source><![CDATA[
<type>
  <info>
    <version>1.3.0</version>
    <name>primary-component</name>
  </info>
  <context>
    <entry key="home" type="java.io.File" optional="true"/>
    <entry key="table" type="java.lang.Object[]" optional="false"/>
    <entry key="name" type="java.lang.String" optional="false"/>
  </context>
</type>
]]></source>
      </subsection>
    </section>
  </body>

  <footer>
    <legal>
      Copyright (c) @year@ The Avalon Apache Project All rights reserved.
      $Revision: 1.2 $ $Date: 2004/01/25 13:28:51 $
    </legal>
  </footer>

</document>


