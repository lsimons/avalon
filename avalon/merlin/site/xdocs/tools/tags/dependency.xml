<?xml version="1.0"?>

<!-- 
 Copyright 2004 Apache Software Foundation
 Licensed  under the  Apache License,  Version 2.0  (the "License");
 you may not use  this file  except in  compliance with the License.
 You may obtain a copy of the License at 
 
   http://www.apache.org/licenses/LICENSE-2.0
 
 Unless required by applicable law or agreed to in writing, software
 distributed  under the  License is distributed on an "AS IS" BASIS,
 WITHOUT  WARRANTIES OR CONDITIONS  OF ANY KIND, either  express  or
 implied.
 
 See the License for the specific language governing permissions and
 limitations under the License.
-->

<document>

  <properties>
    <author email="mcconnell@apache.org">Stephen McConnell</author>
    <title>Javadoc Tag Specification</title>
  </properties>

  <body>

    <section name="Javadoc Tags">
      <subsection name="Dependency Tag">
<p>Component types may declare multiple service dependencies through the service tag.  Each service tag references a versioned service identifier that the container will supply to the component type on request relative to the declared dependency key.</p>

<source><![CDATA[
package net.osm;

/**
 * Example of a component declaring multiple service dependencies.
 *
 * @avalon.meta.version 1.0
 * @avalon.meta.name demo
 */
public class Demo implements Serviceable
{
    ...

   /**
    * Supply of dependent services to this component by 
    *  the container.
    * @param manager the service manager
    * @avalon.meta.dependency key="home" type="Home" version="1.3" 
    * @avalon.meta.dependency type="Resource" version="5" optional="true"
    */
    public void service( ServiceManager manager ) 
      throws ServiceException
    {
        m_home = (Home) manager.lookup( "home" );
        try
        {
            m_resource = (Resource) manager.lookup( 
              Resource.getClass().getName() );
        }
        catch( ServiceException se )
        {
            // it's optional
        }
    }
}
]]></source>

<p>Generated meta-info type descriptor:</p>

<source><![CDATA[
<type>
  <info>
    <version>1.3.0</version>
    <name>demo</name>
  </info>
  <dependencies>
    <dependency key="home" type="Home" version="1.3.0"/>
    <dependency type="Resource" version="5.0.0" optional="true"/>
  </dependencies>
</type>
]]></source>
      </subsection>
    </section>
  </body>

  <footer>
    <legal>
      Copyright (c) @year@ The Avalon Apache Project All rights reserved.
      $Revision: 1.2 $ $Date: 2004/01/25 13:28:51 $
    </legal>
  </footer>

</document>


