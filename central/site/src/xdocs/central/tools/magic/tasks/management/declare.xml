<?xml version="1.0" encoding="UTF-8"?>
<document>

  <properties>
    <author email="dev@avalon.apache.org">Avalon Documentation Team</author>
    <title>Avalon Central</title>
  </properties> 

  <body>
    <section name="Declare Task">
      <p>
      The declare task generates meta data about a plugin.  This information
      is used by the <a href="plugin.html">plugin</a> task to load and install
      tasks and project listeners.  The classpath is automatically generated from
      the plugin descriptor using the RUNTIME policy combhined with the deliverable
      jar generated by the project.
      </p>
<source><![CDATA[
<x:declare/>
]]></source>

<pre>build:
[x:declare] creating plugin declaration
    [mkdir] Created dir: F:\dev\avalon\runtime\meta\tools\target\deliverables\plugins</pre>

      <p>
      An example of the plugin meta data generated by the prepare 
      task is shown below.
      </p>

<pre><![CDATA[
<?xml version="1.0" encoding="ISO-8859-1"?>

<plugin>
  <info>
    <name>avalon-meta-tools</name>
    <group>avalon/meta</group>
    <version>1.4.0</version>
    <type>plugin</type>
  </info>
  <tasks>
    <taskdef name="meta" class="org.apache.avalon.meta.info.ant.MetaTask"/>
  </tasks>
  <listeners>
    <listener class="org.apache.avalon.meta.info.ant.MetaBuildListener"/>
  </listeners>
  <classpath>
    <artifact>jar:avalon/meta/avalon-meta-impl#1.4.0</artifact>
    <artifact>jar:avalon/meta/avalon-meta-spi#1.4.0</artifact>
    <artifact>jar:avalon/meta/avalon-meta-api#1.4.0</artifact>
    <artifact>jar:avalon/framework/avalon-framework-api#4.2.1</artifact>
    <artifact>jar:avalon/util/avalon-util-i18n#1.0.0</artifact>
    <artifact>jar:avalon/util/avalon-util-configuration#1.0.0</artifact>
    <artifact>jar:avalon/framework/avalon-framework-impl#4.2.1</artifact>
    <artifact>jar:avalon/framework/avalon-framework-legacy#4.2.1</artifact>
    <artifact>jar:avalon/logkit/avalon-logkit#2.0.0</artifact>
    <artifact>jar:log4j/log4j#1.2.8</artifact>
    <artifact>jar:servletapi/servletapi#2.3</artifact>
    <artifact>jar:avalon/tools/mailapi#1.3.1</artifact>
    <artifact>jar:avalon/tools/jms#1.1</artifact>
    <artifact>jar:qdox/qdox#1.3</artifact>
    <artifact>jar:avalon/meta/avalon-meta-tools#1.4.0</artifact>
  </classpath>
</plugin>

]]></pre>

    </section>
  </body>

</document>

