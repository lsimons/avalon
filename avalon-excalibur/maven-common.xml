<?xml version="1.0"?>

<!-- maven buildfile customization. -->

<project default="jar:jar">

    <!-- ==========================================================
          Warning
         ========================================================== -->

    <preGoal name="java:compile">
        <attainGoal name="excalibur:warn"/>
    </preGoal>
    <postGoal name="jar:jar">
        <attainGoal name="excalibur:warn"/>
    </postGoal>

    <goal name="excalibur:warn"
            description="Alerts the user that the maven build is in development">
        <echo>
            ----------------------------------------------------------------
             Avalon Excalibur Build System, the Maven Edition:
            ----------------------------------------------------------------
                            !!! WARNING !!!

             excalibur is built using ant; the maven build system
             is still in development. *DO NOT USE IT* unless you're helping
             out with setting that up or testing it.
            ----------------------------------------------------------------
        </echo>
    </goal>

    <!-- ==========================================================
          Doc Generation
         ==========================================================

         This uses a very rudimentary forrest plugin.

         ========================================================== -->

    <postGoal name="xdoc">
        <attainGoal name="forrest:generate"/>
    </postGoal>

    <!-- ==========================================================
          Cleanup of ant artifacts
         ========================================================== -->

    <postGoal name="clean">
        <delete dir="${build.dir}"/>
        <delete dir="${dist.dir}"/>
    </postGoal>

</project>
