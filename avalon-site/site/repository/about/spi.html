
  

  
  

  
  

  

  
  

  
  

  
  

  

  

  

  

  

  
  
  
  
      
  

      
      
      
      
      
      
        
         
      
      

      
      
      
      

      
      
      

      

  
  

  
  

   
   


    
	
	

    
    
      
	
	
	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

    <html>
      <head>
        
        
          <title>
            Merlin - 
          Avalon Repository - SPI
        
          </title>
        
        
        
        <style type="text/css">
          @import url("../style/tigris.css");
          @import url("../style/maven.css");
        </style>
        
        
        
        
        
        <link rel="stylesheet" href="../style/print.css" type="text/css" media="print"></link>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
        
          <meta name="author" content="Stephen McConnell"></meta>
          <meta name="email" content="mcconnell@apache.org"></meta>
        
        
        
        
      </head>

      <body class="composite">

        <div id="banner">
          <table height="103" border="0" width="100%" cellpadding="8" cellspacing="0">
            <tr>
              
              <td>
                
                
                  
                  
                  
                    
                  
                  
                  
                  
                  
                  <a href="http://avalon.apache.org/">
                    <img border="0" alt="Apache Software Foundation" src="http://avalon.apache.org/images/apache-avalon-logo.png" align="left"></img>
                  </a>
                
              </td>

              <td></td>
              

            </tr>
          </table>
        </div>
        <div id="breadcrumbs">
          <table border="0" width="100%" cellpadding="4" cellspacing="0">
            <tr>
              
              <td>
                <div align="right">
                  
                  
                  
                    
    
    
      
      
      
      <a href="http://apache.org/">Apache</a>
      
    
      |
      
      
      <a href="http://avalon.apache.org/">Avalon</a>
      
    
      |
      
      
      <a href="http://avalon.apache.org/product/framework/">Framework</a>
      
    
      |
      
      
      <a href="http://avalon.apache.org/product/containers/">Containers</a>
      
    
      |
      
      
      <a href="http://avalon.apache.org/product/components/">Components</a>
      
    
  
                  
                  
                </div>
              </td>
            </tr>
          </table>
        </div>
        
        <table border="0" width="100%" cellpadding="8" cellspacing="0"> 
          <tr valign="top">
            <td width="20%" id="leftcol">
              <div id="navcolumn">
                

                
                  
    <div>
      <strong>About Repository</strong>
      
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../about/index.html">Overview</a>
      	
      </small>
	  
        
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../about/api/index.html">Programmer API</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      		<b><a href="../about/spi.html">Provider SPI</a></b>
      	
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../about/reference.html">Implementation</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../about/bootstrap.html">Bootstrap System</a>
      	
      </small>
	  
        
      
    </div>
  
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../start/index.html">Getting Started</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../tools/index.html">Tools</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
    <div>
      <strong>Resources</strong>
      
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../api/index.html">Javadoc</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../resources/download.html">Download</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../resources/roadmap.html">Roadmap</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
    <div>
      <strong>Related Projects</strong>
      
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="http://avalon.apache.org/merlin">Merlin</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="http://avalon.apache.org/util">Utilities</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
                
                
                
                

                
                
                <div>
                  <strong>Project Documentation</strong>
                  
                  <div>
                    <small>
                      <a href="../project-info.html">Project Info</a>
                    </small>
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                  </div>
                  <div>
                    <small>
                      <a href="../maven-reports.html">Project Reports</a>
                    </small>
                    
					
                    
                    
                    
                    
                    
                  </div>
                  
                  
                </div>
              
              
                
                
                
                
              
                
              </div>
            </td>
            <td rowspan="2">
              <div id="bodycol">
                
                <div class="app">
                  
                  
    <div class="h3">
      
      
        <h3>
          <a name="Avalon Repository SPI">Avalon Repository SPI</a>
        </h3>
      
      
    <div class="h4">
      
      
        <h4>
          <a name="Service Provider Interface (SPI)">Service Provider Interface (SPI)</a>
        </h4>
      
      
    <p>
      
          The Avalon Repository SPI extends the API to provide a set 
          of services that define the contact for plugin facilities. 
          The Avalon Repository main bootstrapping system 
          provides out-of-the-box support for concurrent deployment of 
          multiple repository implementations enabling complete customization
          and future-proof evolution of artifact access and deployment needs. 
          It achives this functionality by applying the same plugin process to
          its own implementation.  
          
    </p>
   
    </div>
  
    </div>
  
    <div class="h3">
      
      
        <h3>
          <a name="Plugin Facilities">Plugin Facilities</a>
        </h3>
      
      
    <div class="h4">
      
      
        <h4>
          <a name="Factory Pattern">Factory Pattern</a>
        </h4>
      
      
    <p>
      
          A plugin facility is requred to impliment one of the following 
          ranked constructor patterns.
          
    </p>
   
    
    <table border="1" width="100%" cellspacing="2" cellpadding="3">
      
    
      
        
      
      
    

    
    <tr class="b">
    <th>
      Constructor
    </th>
   
    <th>
      Description
    </th>
   </tr>
  
    
      
      
        
      
    

    
    <tr class="a">
    <td>
      Context and ClassLoader
    </td>
   
    <td>
      
                  Creation of a new factory using a supplied initial
                  repository context and a classloader established by
                  the bootstrap facility.  The classloader will be 
                  fully populated in accordance with the metadata
                  published by the factory.

    <div id="source">
      <pre>
public MyFactory( 
    InitialContext context, 
    ClassLoader classloader )
{
}</pre>
    </div>
  
              
    </td>
   </tr>
  
    
      
        
      
      
    

    
    <tr class="b">
    <td>
      Context
    </td>
   
    <td>
      
                  Creation of a new factory using a supplied initial
                  repository context.

    <div id="source">
      <pre>
public MyFactory( 
    InitialContext context )
{
}</pre>
    </div>
  
              
    </td>
   </tr>
  
    
      
      
        
      
    

    
    <tr class="a">
    <td>
      ClassLoader
    </td>
   
    <td>
      
                  Creation of a new factory using a supplied classloader 
                  established by the bootstrap facility.  The classloader 
                  will be fully populated in accordance with the metadata
                  published by the factory.

    <div id="source">
      <pre>
public MyFactory( 
    ClassLoader classloader )
{
}</pre>
    </div>
  
    </td>
   </tr>
  
    
      
        
      
      
    

    
    <tr class="b">
    <td>
      Null Constructor
    </td>
   
    <td>
      
                  Creation of a new factory.

    <div id="source">
      <pre>
public MyFactory()
{
}</pre>
    </div>
  
              
    </td>
   </tr>
  
    </table>
  
    </div>
  
    <div class="h4">
      
      
        <h4>
          <a name="Criteria Management">Criteria Management</a>
        </h4>
      
      
    <p>
      
          The object established by the factory constructor must implement
          the Factory interface.
          
    </p>
   
    <div id="source">
      <pre>
public interface Factory
{
   /**
    * Return a new instance of default criteria for the factory.
    * @return a new criteria instance
    */
    Map createDefaultCriteria();

   /**
    * Create a new instance of an application.
    * @return the application instance
    */
    Object create() throws Exception;

   /**
    * Create a new instance of an application.
    * @param criteria the creation criteria
    * @return the application instance
    */
    Object create( Map criteria ) throws Exception;

}
</pre>
    </div>
  
    <p>
      
          A client on aquiring the factory will get the default
          criteria value and use this to parameterize the factory.
          On completion of parameterization (by setting application
          specific named values), the create operation is invoked and
          returns a new instance of the facility.
          
    </p>
   
    </div>
  
    </div>
  
                  
                  
                  
                  
                  
                </div>
              </div>
            </td>
          </tr>
        </table>
        <div id="footer">
          <table border="0" style="width:100%" cellpadding="4" cellspacing="0">
            
            <tr>
              <td>
                
                  
                    
                    
                      © 1997-2004, Apache Software Foundation
                    
                  
                  
                

                
              </td>
              
            </tr>
          </table>
        </div>
      </body>
    </html>
  