<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_03) on Fri Mar 12 07:00:57 CET 2004 -->
<TITLE>
org.apache.avalon.meta.info.ant (Avalon Meta 1.4 API)
</TITLE>

<META NAME="keywords" CONTENT="org.apache.avalon.meta.info.ant package">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="org.apache.avalon.meta.info.ant (Avalon Meta 1.4 API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/apache/avalon/meta/info/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/apache/avalon/meta/info/builder/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package org.apache.avalon.meta.info.ant
</H2>

     <a name="intro">Avalon Meta Generation for Ant</a>
   
 
    The meta info generator task scans sources files for the presence of an avalon.meta tags and based on the tag set specification, generates either XML or serialized meta-info descriptors.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Class Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../../org/apache/avalon/meta/info/ant/FormatEnum.html" title="class in org.apache.avalon.meta.info.ant">FormatEnum</A></B></TD>
<TD>This is an enumeration that gives the option of either
 outputting as xml or as a serialized format.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../../../org/apache/avalon/meta/info/ant/MetaTask.html" title="class in org.apache.avalon.meta.info.ant">MetaTask</A></B></TD>
<TD>Generate a meta info model from javadoc tags.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package org.apache.avalon.meta.info.ant Description
</H2>

<P>
<h2>
     <a name="intro">Avalon Meta Generation for Ant</a>
   </h2>
 
    <p>The meta info generator task scans sources files for the presence of an avalon.meta tags and based on the tag set specification, generates either XML or serialized meta-info descriptors.</p>
   
    <div class="h4">

   <h4>
     <a name="Parameters">Parameters</a>
   </h4>
    
   <TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <th>Parameter</th>
    <th>Required</th>
    <th>Value</th>
   </tr>
    <tr class="a">
    <td>destDir</td>
    <td>true</td>
    <td>
 The directory into which the generated type and service defintions will be created.
    </td>
   </tr>
    <tr class="b">
    <td>format</td>
    <td>false</td>
    <td>
The output format may be one of <strong>xml</strong> or <strong>serial</strong>.  The xml format is less compact but more portable.  The serial format is appropriate when usage is know to be in the context of the Avalon Meta API.  The serial format is a serialized representation of the corresponding Task or Service instance.
    </td>
   </tr>
    <tr class="a">
    <td>force</td>
    <td>false</td>
    <td>A boolean flag to force regenerating of the meta-files. <strong>false</strong> (default) will generate the meta-file if the source is newer than the exisiting meta-file or if the meta-file does not exist. <strong>true</strong> will overwrite any existing meta-file irrespective of the modification date.
    </td>
   </tr>
    <tr class="b">
    <td>postfix</td>
    <td>false</td>
    <td>
Select between "xinfo" and "xtype" as the meta-info file type that is generated. The xtype postfix is convinient when generating meta info descriptors that must cooexist with the legacy Phoenix platform.
    </td>
   </tr>
    </table>
    </div>
    <div class="h4">
   <h4>
     <a name="Nested Elements">Nested Elements</a>
   </h4>
   <TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <th>Element</th>
    <th>Required</th>
    <th>Value</th>
   </tr>
    <tr class="b">
    <td>fileset</td>
    <td>true</td>
    <td>
 A fileset containing the definition of the source files to be included in the scanning phase.
    </td>
   </tr>
    </table>
    </div>
    <div class="h4">
   <h4>
     <a name="Ant Example">Ant Example</a>
   </h4>
    <div id="source">
 <pre>
  &lt;target name="meta" description="Generates the XML descriptors" depends="build"&gt;
    &lt;mkdir dir="${meta.dir}" /&gt;
    &lt;taskdef name="meta" classname="org.apache.avalon.meta.tools.ant.MetaTask"&gt;
      &lt;classpath refid="project.class.path" /&gt;
    &lt;/taskdef&gt;
    &lt;meta destDir="${meta.dir}" format="xml"&gt;
      &lt;fileset dir="${src}"&gt;
         &lt;include name="**/*.java"/&gt;
      &lt;/fileset&gt;
    &lt;/meta&gt;
  &lt;/target&gt;
</pre>
    </div>
    </div>
    </div>
    <div class="h3">
   <h3>
     <a name="Example">Example</a>
   </h3>
    <div class="h4">
   <h4>
     <a name="Java source with Tag markup">Java source with Tag markup</a>
   </h4> 
    <div id="source">
 <pre>

import java.io.File;

import org.apache.avalon.framework.logger.Logger;
import org.apache.avalon.framework.logger.AbstractLogEnabled;
import org.apache.avalon.framework.service.Serviceable;
import org.apache.avalon.framework.service.ServiceManager;
import org.apache.avalon.framework.service.ServiceException;
import org.apache.avalon.framework.context.Context;
import org.apache.avalon.framework.context.Contextualizable;
import org.apache.avalon.framework.context.ContextException;

/**
 * An example component containing meta info under javadoc tags.
 *
 * @avalon.component name="secondary-component"
 *    version="2.4" lifestyle="singleton"
 * @avalon.service type="SecondaryService" version="0.1"
 */
public class Secondary extends AbstractLogEnabled 
  implements Serviceable, SecondaryService, Contextualizable
{
    private Logger m_system = null;
    private File m_home = null;
    private PrimaryService m_primary = null;

   /**
    * Supply of a logging channel to the component.
    * @param logger the logging channel
    * @avalon.logger name="system"
    */
    public void enableLogging( Logger logger )
    {
      super.enableLogging( logger );
      m_system = logger.getChildLogger( "system" );
    }

   /**
    * Supply of the runtime context by the container.
    * @param context the runtime context
    * @avalon.entry key="home" type="java.io.File"
    */
    public void contextualize( Context context ) throws ContextException
    {
       m_home = (File) context.get("home");
    }    

   /**
    * Supply of dependent services to this component by the container.
    * @param manager the service manager
    * @avalon.dependency type="PrimaryService" version="1.3" key="primary"
    */
    public void service( ServiceManager manager ) throws ServiceException
    {
       m_primary = (PrimaryService) manager.lookup( "primary" );
       m_system.info( "resolved primary service reference" );
    }
}
</pre>
    </div>
  
    </div>
  
    <div class="h4">
 
 
   <h4>
     <a name="Generated meta-info descriptor">Generated meta-info descriptor</a>
   </h4>
 
 
    <div id="source">
 <pre>
&lt;?xml version="1.0" ?&gt;
&lt;!DOCTYPE type PUBLIC "-//AVALON/Type DTD Version 1.0//EN" 
  "http://avalon.apache.org/dtds/meta/type_1_1.dtd" &gt;

&lt;type&gt;
  &lt;info&gt;
    &lt;name&gt;secondary-component&lt;/name&gt;
    &lt;version&gt;2.4.0&lt;/version&gt;
    &lt;lifestyle&gt;singleton&lt;/lifestyle&gt;
  &lt;/info&gt;
  &lt;loggers&gt;
    &lt;logger name="system"/&gt;
  &lt;/loggers&gt;
  &lt;context&gt;
    &lt;entry key="home" type="java.io.File"/&gt;
  &lt;/context&gt;
  &lt;services&gt;
    &lt;service type="SecondaryService" version="0.1.0"/&gt;
  &lt;/services&gt;
  &lt;dependencies&gt;
    &lt;dependency key="primary" type="PrimaryService" version="1.3.0"/&gt;
  &lt;/dependencies&gt;
&lt;/type&gt;
</pre>
    </div>
<P>

<P>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/apache/avalon/meta/info/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../../../org/apache/avalon/meta/info/builder/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy;  The Apache Software Foundation. All Rights Reserved.
</BODY>
</HTML>
