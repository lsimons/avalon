
  

  
  

  
  

  

  
  

  
  

  
  

  

  

  

  

  

  
  
  
  
      
  

      
      
      
      
      
      
        
         
      
      

      
      
      
      

      
      
      

      

  
  

  
  

   
   


    
	
	

    
    
      
	
	
	<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

    <html>
      <head>
        
        
          <title>
            Avalon Framework - 
          
        
          </title>
        
        
        
        <style type="text/css">
          @import url("../style/tigris.css");
          @import url("../style/maven.css");
        </style>
        
        
        
        
        
        <link rel="stylesheet" href="../style/print.css" type="text/css" media="print"></link>
        <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"></meta>
        
        
        
        
      </head>

      <body class="composite">

        <div id="banner">
          <table height="103" border="0" width="100%" cellpadding="8" cellspacing="0">
            <tr>
              
              <td>
                
                
                  
                  
                  
                    
                  
                  
                  
                  
                  
                  <a href="http://avalon.apache.org/">
                    <img border="0" alt="The Apache Software Foundation" src="http://avalon.apache.org/images/apache-avalon-logo.png" align="left"></img>
                  </a>
                
              </td>

              <td></td>
              

            </tr>
          </table>
        </div>
        <div id="breadcrumbs">
          <table border="0" width="100%" cellpadding="4" cellspacing="0">
            <tr>
              
              <td>
                <div align="right">
                  
                  
                  
                    
    
    
      
      
      
      <a href="http://apache.org/">Apache</a>
      
    
      |
      
      
      <a href="http://avalon.apache.org/">Avalon</a>
      
    
      |
      
      
      <a href="http://avalon.apache.org/product/framework/">Framework</a>
      
    
      |
      
      
      <a href="http://avalon.apache.org/product/containers/">Merlin</a>
      
    
      |
      
      
      <a href="http://avalon.apache.org/product/components/">Planet</a>
      
    
  
                  
                  
                </div>
              </td>
            </tr>
          </table>
        </div>
        
        <table border="0" width="100%" cellpadding="8" cellspacing="0"> 
          <tr valign="top">
            <td width="20%" id="leftcol">
              <div id="navcolumn">
                

                
                  
    <div>
      <strong>About Avalon Framework</strong>
      
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../index.html">Overview</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../cop/index.html">Component Oriented</a>
      	
      </small>
	  
        
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../cop/guide-cop-in-avalon.html">COP in Avalon</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../cop/guide-patterns-avalon.html">Patterns in Avalon</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      		<b><a href="../cop/guide-patterns-ioc.html">IOC Patterns</a></b>
      	
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../cop/guide-patterns-ioc-security.html">IOC Security</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../cop/guide-patterns-soc.html">Seperation of Concerns</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../cop/guide-patterns-soii.html">Interface and Implementation</a>
      	
      </small>
	  
        
      
    </div>
  
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../principals/index.html">Component Development</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="../api/index.html">Javadoc</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
    <div>
      <strong>Related Projects</strong>
      
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="http://avalon.apache.org/meta">Avalon Meta</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="http://avalon.apache.org/merlin">Avalon Merlin</a>
      	
      </small>
	  
        
      
    </div>
  
    
    
    
    

    <div>
      <small>
      	
      	
      		<a href="http://avalon.apache.org/components">Avalon Planet</a>
      	
      </small>
	  
        
      
    </div>
  
    </div>
  
                
                
                
                

                
                
                <div>
                  <strong>Project Documentation</strong>
                  
                  <div>
                    <small>
                      <a href="../project-info.html">Project Info</a>
                    </small>
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                  </div>
                  <div>
                    <small>
                      <a href="../maven-reports.html">Project Reports</a>
                    </small>
                    
					
                    
                    
                      
                      
                    
                      
                      
                    
                    
                    
                    
                  </div>
                  
                    
                  
                  
                </div>
              
              
                
                
                
                
              
                
              </div>
            </td>
            <td rowspan="2">
              <div id="bodycol">
                
                <div class="app">
                  
                  
    <div class="h3">
      
      
        <h3>
          <a name="Introduction">Introduction</a>
        </h3>
      
      
    <p>
      
        One of the key design principles behind Avalon is the principle
        of 
    <em>
      Inversion of Control
    </em>
   .  
    <em>
      Inversion of Control
    </em>
    is
        a concept promoted by one of the founders of the Avalon project,
        
    <link href="mailto:stefano@apache.org">
      Stefano Mazzocchi
    </link>
   .  The
        principle enforces security by design.
      
    </p>
   
    <p>
      
        It is difficult to track down one paper that defines this pattern
        at length, so here are a couple of different definitions of
        
    <em>
      Inversion of Control
    </em>
   .
      
    </p>
   
    </div>
  
    <div class="h3">
      
      
        <h3>
          <a name="What it Means">What it Means</a>
        </h3>
      
      
    <p>
      
          The Framework plays the role of the main program in coordinating
          and sequencing events and application activity.
        
    </p>
   
    <p>
      
          A designer sets up a chain among objects that can all react
          to certain messages in a delegation hierarchy.  There is one
	  major semantic detail: Inversion of Control refers to a parent
	  object 
    <em>
      controlling
    </em>
    a child object.  With this distinction,
	  the SAX API is not considered Inversion of Control because its
	  purpose is to send 
    <em>
      information
    </em>
    from a source to a handler.
        
    </p>
   
    <div class="h4">
      
      
        <h4>
          <a name="Definition by Analogy">Definition by Analogy</a>
        </h4>
      
      
    <p>
      
            There are a couple of different analogies that make
            understanding 
    <em>
      Inversion of Control
    </em>
    easier.  We
            experience this in many different ways in regular life,
            so we are borrowing the form in code.  One analogy is called
	    the "Chain of Command" in the military.
          
    </p>
   
    </div>
  
    <div class="h4">
      
      
        <h4>
          <a name="Chain of Command">Chain of Command</a>
        </h4>
      
      
    <p>
      
              This is probably the clearest parallel to 
    <em>
      Inversion
              of Control
    </em>
   .  The military provides each new recruit
              with the basic things he needs to operate at his rank,
              and issues commands that recruit must obey.  The same
              principle applies in code.  Each component is given the
              provisions it needs to operate by the instantiating
              entity (i.e. Commanding Officer in this analogy).  The
              instantiating entity then acts on that component how it
              needs to act.
            
    </p>
   
    <p>
      
	      There are some deficiencies in this analogy as some military
	      or ex-military people have explained to me.  In the military,
	      
    <strong>
      any
    </strong>
    Commanding Officer can issue commands to
	      anyone under his or her rank.  In the development world, to
	      ensure proper security, this is not a pattern you want in your
	      software.  In Avalon, Inversion of Control (IoC) is from one
	      parent (controlling) object to a child (controlled) component.
	      A parent may have many children, but children only have one
	      parent.
	    
    </p>
   
    </div>
  
    </div>
  
    <div class="h3">
      
      
        <h3>
          <a name="How to Apply It">How to Apply It</a>
        </h3>
      
      
    <p>
      
          
    <em>
      Inversion of Control
    </em>
    is applied in a very simple
          manner.  Basically, it means that the component architecture
          employs a 
    <em>
      passive
    </em>
    structure.  See the following code:
        
    </p>
   
    <div id="source">
      <pre>
class MyComponent 
    implements LogEnabled
{
    Logger logger;

    public enableLogging(Logger newLogger)
    {
        this.logger = newLogger;
    }

    myMethod() 
    {
        logger.info("Hello World!");
    }
}
        </pre>
    </div>
  
    <p>
      
          The parent of MyComponent instantiates MyComponent, sets the
          Logger, and calls myMethod.  The component is not autonomous,
	  and is given a logger that has been configured by the parent.
        
    </p>
   
    <p>
      
          The MyComponent class has no state apart from the parent, and
          has no way of obtaining a reference to the logger implementation
          without the parent giving it the implementation it needs.
        
    </p>
   
    </div>
  
    <div class="h3">
      
      
        <h3>
          <a name="IOC promotes Security">IOC promotes Security</a>
        </h3>
      
      
    <p>
      A big advantage of IOC for server applications is that it promotes
      security. You can read an analysis about this
      
    <a href="guide-patterns-ioc-security.html">
         here
      </a>
  .
    </p>
   
    </div>
  
                  
                  
                  
                  
                  
                </div>
              </div>
            </td>
          </tr>
        </table>
        <div id="footer">
          <table border="0" style="width:100%" cellpadding="4" cellspacing="0">
            
            <tr>
              <td>
                
                  
                    
                    
                      © 1997-2004, The Apache Software Foundation
                    
                  
                  
                

                
              </td>
              
            </tr>
          </table>
        </div>
      </body>
    </html>
  